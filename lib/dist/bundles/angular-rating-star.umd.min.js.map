{"version":3,"sources":["ng://angular-rating-star/src/star-rating/star-rating.component.ts","ng://angular-rating-star/src/star-rating.module.ts","ng://angular-rating-star/src/star-rating.service.ts"],"names":["StarRatingComponent","this","activeColor","prototype","ngOnInit","showLabels","dataSet","showNumber","colors","length","labels","normalColor","labelBackground","labelsStyle","background","labelColor","color","starSize","ngOnChanges","changes","_this","setTimeout","getColor","forEach","index","rating","startColors","push","String","grayColor","id","Date","now","url","mouseEnter","event","isEditable","onSelectRating","Component","args","selector","template","Input","StarRatingModule","forRoot","config","ngModule","providers","provide","useValue","NgModule","imports","CommonModule","declarations","exports","apiKey","StarRatingService","Injectable","providedIn","Inject"],"mappings":"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","sourcesContent":["import { Component, OnInit, Input, OnChanges, SimpleChanges } from '@angular/core';\n\n@Component({\n\tselector: 'app-star-rating',\n\ttemplateUrl: './star-rating.component.html',\n\tstyleUrls: ['./star-rating.component.scss']\n})\nexport class StarRatingComponent implements OnInit {\n\n\t@Input() rating: number;\n\t@Input() isEditable: boolean = false;\n\t@Input() dataSet: any = {};\n\n\tpublic colors = [\"#ff0109\", \"#ff7f2b\", \"#f7ba44\", \"#9ACD32\", \"#5ba82a\"];\n\tpublic labels = [\"Bad\", \"Not Good\", \"Average\", \"Good\", \"Best\"];\n\tpublic activeColor = \"#808080\";\n\tpublic normalColor = \"rgba(0,0,0,0.3)\";\n\tpublic startColors = [];\n\tpublic per = \"100%\";\n\tpublic showLabels: boolean = true;\n\tpublic showNumber: boolean = true;\n\tpublic labelBackground = this.activeColor;\n\tpublic labelColor = \"#fff\";\n\tpublic starSize = \"20\";\n\n\tconstructor() { }\n\tngOnInit() {\n\t\tthis.showLabels = typeof (this.dataSet.showLabels) === \"boolean\" ? this.dataSet.showLabels : true;\n\t\tthis.showNumber = typeof (this.dataSet.showNumber) === \"boolean\" ? this.dataSet.showNumber : true;\n\t\tthis.colors = typeof (this.dataSet.colors) === \"object\" && this.dataSet.colors.length == 5 ? this.dataSet.colors : this.colors;\n\t\tthis.labels = typeof (this.dataSet.labels) === \"object\" && this.dataSet.labels.length == 5 ? this.dataSet.labels : this.labels;\n\t\tthis.normalColor = typeof (this.dataSet.normalColor) === \"string\" ? this.dataSet.normalColor : this.normalColor;\n\t\tthis.labelBackground = typeof (this.dataSet.labelsStyle) === \"object\" && typeof (this.dataSet.labelsStyle.background) === \"string\" ? this.dataSet.labelsStyle.background : this.labelBackground;\n\t\tthis.labelColor = typeof (this.dataSet.labelsStyle) === \"object\" && typeof (this.dataSet.labelsStyle.color) === \"string\" ? this.dataSet.labelsStyle.color : this.labelColor;\n\t\tthis.starSize = typeof (this.dataSet.starSize) === \"string\" ? this.dataSet.starSize : this.starSize;\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tsetTimeout(() => {\n\t\t\tthis.getColor();\n\t\t}, true);\n\t}\n\n\tgetColor() {\n\t\tthis.colors.forEach((color, index) => {\n\t\t\tindex = index + 1;\n\t\t\tif (index >= this.rating + 1) {\n\t\t\t\tthis.startColors.push({\n\t\t\t\t\t'activeColor': String(0) + \"%\",\n\t\t\t\t\t'grayColor': String(0) + \"%\",\n\t\t\t\t\t'id': Date.now() + \"start\" + index,\n\t\t\t\t\t\"url\": \"url(#\" + Date.now() + \"start\" + index + \")\"\n\t\t\t\t})\n\t\t\t} else if (index < this.rating) {\n\t\t\t\tthis.startColors.push({\n\t\t\t\t\t'activeColor': String(100) + \"%\",\n\t\t\t\t\t'grayColor': String(100) + \"%\",\n\t\t\t\t\t'id': Date.now() + \"start\" + index,\n\t\t\t\t\t\"url\": \"url(#\" + Date.now() + \"start\" + index + \")\"\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.activeColor = color;\n\t\t\t\tthis.labelBackground = typeof (this.dataSet.labelsStyle) === \"object\" && typeof (this.dataSet.labelsStyle.background) === \"string\" ? this.dataSet.labelsStyle.background : color;\n\t\t\t\tthis.labelColor = typeof (this.dataSet.labelsStyle) === \"object\" && typeof (this.dataSet.labelsStyle.color) === \"string\" ? this.dataSet.labelsStyle.color : '#fff';\n\n\t\t\t\tthis.startColors.push({\n\t\t\t\t\t'activeColor': String(100 - (index - this.rating) * 100) + \"%\",\n\t\t\t\t\t'grayColor': String(100 - (index - this.rating) * 100) + \"%\",\n\t\t\t\t\t'id': Date.now() + \"start\" + index,\n\t\t\t\t\t\"url\": \"url(#\" + Date.now() + \"start\" + index + \")\"\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tmouseEnter(event, index) {\n\t\tif (this.isEditable) {\n\t\t\tthis.rating = index + 1;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.startColors = [];\n\t\t\t\tthis.getColor();\n\t\t\t}, true);\n\t\t}\n\t}\n\n\n\n\tonSelectRating(index) {\n\t\tif (this.isEditable) {\n\t\t\tthis.rating = index + 1;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.startColors = [];\n\t\t\t\tthis.getColor();\n\t\t\t}, true);\n\t\t}\n\t}\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { StarRatingComponent } from './star-rating/star-rating.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [StarRatingComponent],\n  exports:[StarRatingComponent]\n})\nexport class StarRatingModule { \n  public static forRoot(config): ModuleWithProviders {\n    return {\n      ngModule: StarRatingComponent,\n      providers: [\n        { provide: 'config', useValue: config }\n      ]\n    };\n  }\n}\n\nStarRatingModule.forRoot({ apiKey: 'shhhhh' })\n\n","import { Injectable, Inject } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StarRatingService {\n\n  constructor(@Inject('config') private config ) { }\n}\n"]}